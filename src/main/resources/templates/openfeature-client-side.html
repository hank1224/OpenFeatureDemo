<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-Hant">
<meta charset="UTF-8">
<head>
    <title>OpenFeature Client-side Demo</title>
    <link rel="stylesheet" href="https://matcha.mizu.sh/matcha.css"> <!-- 用途：自動美化排版 -->
</head>
<body>
<h1>Client端的 js 呼叫</h1>
<p>適用情況為EvalContent並不頻繁更動的場景</p>
<p>例如：客戶訂閱層級、</p>

<form id="featureForm">
    <label for="clientLevelValue">
        <input type="text" id="clientLevelValue" name="clientLevelValue" placeholder="Which Level you are in?" required>
    </label>
    <button type="button" id="submitBtn">Submit</button>
</form>

<div id="fb-client-config" th:if="${featbitClientConfDTO != null}"
     th:attr="data-client-key=${featbitClientConfDTO.clientKey},
              data-featbit-streaming-url=${featbitClientConfDTO.featbitStreamingURL},
              data-featbit-event-url=${featbitClientConfDTO.featbitEventURL}">
    <h2>featbitClientConfDTO</h2>
    <p>clientKey: <span th:text="${featbitClientConfDTO.clientKey}"></span></p>
    <p>featbitStreamingURL: <span th:text="${featbitClientConfDTO.featbitStreamingURL}"></span></p>
    <p>featbitEventURL: <span th:text="${featbitClientConfDTO.featbitEventURL}"></span></p>
</div>

<div th:unless="${featbitClientConfDTO != null}">
    <p>Missing config!</p>
</div>

<h2>Log</h2>

<div id="result"></div>

<div id="errorLog" style="color: red;"></div>

<script type="module" th:src="@{/js/openfeature-client-side.bundle.js}"></script> <!-- 自行打包的js -->

</body>
</html>
